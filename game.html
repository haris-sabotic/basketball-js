<!doctype html>
<html>

<head>
    <script src="js/pixi.min.js"></script>
    <script src="js/matter.min.js"></script>
    <script src="js/howler.min.js"></script>
    <script src="js/aes.js"></script>

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            position: relative;
            font-family: sans-serif;
        }

        .play-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #play {
            padding: 20px 50px;
            font-size: 4rem;
            font-weight: 900;
            color: black;
            background-color: white;
            padding: 20px 50px;
            border-radius: 20px;
        }

        .video-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        video {
            width: 100%;
        }

        .finish-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .score {
            font-size: 4em;
        }

        .highscore {
            font-size: 3em;
        }

        #replay {
            padding: 20px 50px;
            font-size: 3rem;
        }

        .hidden {
            display: none;
            height: 0;
        }

        #refresh {
            padding: 20px 50px;
            font-size: 3rem;
        }

        .hulk {
            position: fixed;
            width: 500px;
            bottom: 0;
            right: -500px;
        }
    </style>
</head>

<body>
    <div class="play-container">
        <button id="play">PLAY</button>
    </div>

    <div class="video-container hidden">
        <video id="splash">
            <source src="assets/video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <div class="finish-container hidden">
        <p class="score">SCORE: <span class="score-value">Loading...</span></p>
        <p class="highscore">Highscore: <span class="highscore-value"></span></p>
        <button id="refresh">REFRESH</button>
    </div>

    <img src="" alt="" class="hulk">

    <script>
        // PRELOAD HULK GIF

        let HULK_GIF = new Image();
        HULK_GIF.src = "assets/hulk.gif";
    </script>


    <script src="bootstrap.js"></script>
    <script src="net.js"></script>
    <script src="hoop.js"></script>
    <script src="ball.js"></script>
    <script src="finish.js"></script>
    <script src="main.js"></script>

    <script>
        const playGame = () => {
            document.querySelector(".play-container").remove();

            document.querySelector(".video-container").classList.remove("hidden");

            let video = document.getElementById("splash");
            console.log(video);
            video.play();

            video.addEventListener("ended", () => {
                document.querySelector(".video-container").remove();

                runBootstrap();
                runMain();
            });
        };

        document.querySelector("#play").addEventListener("click", playGame)
    </script>
</body>

</html>